<div class="workout-summary panel <%= workout_summary_panel_style(workout) %>">
  <div class="panel-heading">
    <h3 class="panel-title">
      <%= link_to workout_path(workout) do %>
        <%= l workout.scheduled_on, format: :short_weekday %>
        <%= workout_kind_image_tag(workout) %>
        <%= workout.name %>
      <% end %>
    </h3>
  </div>
  <div class="panel-body">
    <p class="lead"><%= workout.description %></p>
    <% if workout.done? %>
      <% if detailed %>
        <p><strong><%= Workout.human_attribute_name(:observations) %>:</strong> <%= workout.observations %></p>
        <p><strong><%= Workout.human_attribute_name(:coach_observations) %>:</strong><%= workout.coach_observations %></p>
      <% end %>
      <table>
        <tbody>
          <tr>
            <th><%= Workout.human_attribute_name(:distance) %>:</th>
            <td><%= number_to_human(workout.distance, units: 'number_to_human.distances', precision: 4) %></td>
          </tr>
          <tr>
            <th><%= Workout.human_attribute_name(:moving_time) %>:</th>
            <td><%= seconds_to_time(workout.moving_time) %></td>
          </tr>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:elapsed_time) %>:</th>
              <td><%= seconds_to_time(workout.elapsed_time) %></td>
            </tr>
          <% end %>
          <tr>
            <th><%= Workout.human_attribute_name(:elevation_gain) %>:</th>
            <td><%= number_to_human(workout.elevation_gain, units: 'number_to_human.distances', precision: 3) %></td>
          </tr>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:calories) %>:</th>
              <td><%= number_with_delimiter(workout.calories) %></td>
            </tr>
          <% end %>
          <tr>
            <th><%= Workout.human_attribute_name(:speed_avg) %>:</th>
            <td><%= number_with_delimiter(workout.speed_avg.try(:round, 1)) %> km/h</td>
          </tr>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:speed_max) %>:</th>
              <td><%= number_with_delimiter(workout.speed_max.try(:round, 1)) %> km/h</td>
            </tr>
          <% end %>
          <tr>
            <th><%= Workout.human_attribute_name(:heart_rate_avg) %>:</th>
            <td><%= number_with_delimiter(workout.heart_rate_avg) %> bpm</td>
          </tr>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:heart_rate_max) %>:</th>
              <td><%= number_with_delimiter(workout.heart_rate_max) %> bpm</td>
            </tr>
          <% end %>
          <tr>
            <th><%= Workout.human_attribute_name(:cadence_avg) %>:</th>
            <td><%= number_with_delimiter(workout.cadence_avg) %> rpm</td>
          </tr>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:cadence_max) %>:</th>
              <td><%= number_with_delimiter(workout.cadence_max) %> rpm</td>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:temperature_avg) %>:</th>
              <td><%= number_with_delimiter(workout.temperature_avg.try(:round, 1)) %> ºC</td>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:temperature_min) %>:</th>
              <td><%= number_with_delimiter(workout.temperature_min.try(:round, 1)) %> ºC</td>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:temperature_max) %>:</th>
              <td><%= number_with_delimiter(workout.temperature_max.try(:round, 1)) %> ºC</td>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:watts_avg) %>:</th>
              <%= number_with_delimiter(workout.watts_avg.try(:round, 0)) %>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:watts_weighted_avg) %>:</th>
              <%= number_with_delimiter(workout.watts_weighted_avg.try(:round, 0)) %>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:watts_max) %>:</th>
              <%= number_with_delimiter(workout.watts_max.try(:round, 0)) %>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:weight_before) %>:</th>
              <td><%= number_to_human(workout.weight_before * 1000.0, units: 'number_to_human.grams', precision: 4) %></td>
            </tr>
          <% end %>
          <% if detailed %>
            <tr>
              <th><%= Workout.human_attribute_name(:weight_after) %>:</th>
              <td><%= number_to_human(workout.weight_after * 1000.0, units: 'number_to_human.grams', precision: 4) %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>
</div>
